# mlrqc
Machine Leaning Radar QC

## What is this ##

An attempt to do weather data QC with machine learning algorithms.

## scripts ##

- read_art.py

  This was an attempt to use pyart to grid the data. But I [ran into issues](https://github.com/ARM-DOE/pyart/issues/685#issuecomment-459800892)
 
- sweep2h5.py

  This is the first script you would run. It takes a file, or directory (and a pattern) as argument) and combines all the gates from all the sweeps into 1 hdf5 file.
  
  This script takes a **long** time computing the altitude column.
  
  I suggest saving the output under a directory named **h5_files**.
  
- h52ds.py

  Once you have that giant h5 file(s) generated by sweep2h5.py, you can run this script to generate a subset of the data from one file (or directory)
  You give the wanted percentage you want to extract (for example 10 for 10%) The script grabs 10% from each file, then randommizes the data and saves it to an hdf5 file. 
  I suggest saving the output under a directory named **datasets**.
- utils.py

  Module for some functions common to all the scripts
  
- show3.py

  Quick and dirty script to generate the picture of a neural network.
  
- plot_hist.py

  radar_qc.py outputs the history for the model (a dict with acc, loss, val_acc, val_loss).  This script parses a file for that output and generates a couple of .png from the data.
  
- radar_qc.py

  Once a dataset is available, this will create, train, and test a model.
  
  Run with ```radar_qc -h``` to get a list of arguments

## Sample datasets and run scripts ##

In **/bell-scratch/bpmelli/ML** you can see my original data **orig_data**, my h5_files, some datasets, and several submit*.sh to be used with qsub.



